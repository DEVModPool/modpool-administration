<div class="card">
    <p-toast></p-toast>
    <div class="surface-section">
        <div class="font-medium text-3xl mb-3" [ngStyle]="{color:'var(--primary-color)'}">{{ moduleDetails.code + ' - ' + moduleDetails.name}}</div>
        <form [formGroup]="moduleDetailsForm" (ngSubmit)="onSubmit()">
            <ul class="list-none p-0 m-0">
                <li class="flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap">
                    <div class="text-700 text-xl w-6 md:w-2 font-medium">Name</div>
                    <div class="text-900 w-full md:w-10 md:flex-order-0 flex-order-1">
                        <div class="grid p-fluid">
                            <div class="col-12">
                                <div class="p-inputgroup">
                                    <input formControlName="name" type="text" pInputText/>
                                </div>
                                <small *ngIf="name.dirty && name.errors?.['required']" class="p-error">Name is required.</small>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap">
                    <div class="text-700 text-xl w-6 md:w-2 font-medium">Code</div>
                    <div class="text-900 w-full md:w-10 md:flex-order-0 flex-order-1">
                        <div class="grid p-fluid">
                            <div class="col-12">
                                <div class="p-inputgroup">
                                    <input formControlName="code" type="text" pInputText/>
                                </div>
                                <small *ngIf="code.dirty && code.errors?.['required']" class="p-error">Code is required.</small>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap">
                    <div class="text-700 text-xl w-6 md:w-2 font-medium">Coordinator</div>
                    <div class="text-900 w-full md:w-10 md:flex-order-0 flex-order-1">
                        <div class="grid p-fluid">
                            <div class="col-12">
                                <p-dropdown [options]="coordinators" formControlName="coordinator" optionLabel="name" [filter]="true" filterBy="name" [showClear]="true" placeholder="Select a coordinator...">
                                </p-dropdown>
                                <small *ngIf="coordinator.dirty && coordinator.errors?.['required']" class="p-error">Coordinator is required.</small>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap">
                    <div class="text-700 text-xl w-6 md:w-2 font-medium">Department</div>
                    <div class="text-900 w-full md:w-10 md:flex-order-0 flex-order-1">
                        <div class="grid p-fluid">
                            <div class="col-12">
                                <p-dropdown [options]="departments" formControlName="department" optionLabel="name" [filter]="true" filterBy="name" [showClear]="true" placeholder="Select a department...">
                                </p-dropdown>
                                <small *ngIf="department.dirty && department.errors?.['required']" class="p-error">Department is required.</small>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap">
                    <div class="text-700 text-xl w-6 md:w-2 font-medium">Semester</div>
                    <div class="text-900 w-full md:w-10 md:flex-order-0 flex-order-1">
                        <div class="grid p-fluid">
                            <div class="col-12">
                                <div class="p-inputgroup">
                                    <input formControlName="semester" type="text" pInputText/>
                                </div>
                                <small *ngIf="semester.dirty && semester.errors?.['required']" class="p-error">Semester is required.</small>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap">
                    <div class="text-700 text-xl w-6 md:w-2 font-medium">Description</div>
                    <div class="text-900 w-full md:w-10 md:flex-order-0 flex-order-1">
                        <div class="grid p-fluid">
                            <div class="col-12">
                                <div class="p-inputgroup">
                                    <textarea formControlName="description" rows="5" cols="30" pInputTextarea
                                              autoResize="autoResize"></textarea>
                                </div>
                                <small *ngIf="description.dirty && description.errors?.['required']" class="p-error">Description is required.</small>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap">
                    <div class="text-700 text-xl w-6 md:w-2 font-medium">Prerequisites</div>
                    <div class="text-900 w-full md:w-10 md:flex-order-0 flex-order-1">
                        <div class="grid p-fluid">
                            <div class="col-12">
                                <div class="p-fluid">
                                    <p-multiSelect
                                        formControlName="prerequisites"
                                        [options]="prerequisites"
                                        defaultLabel="Select prerequisites..."
                                        optionLabel="name"
                                        display="chip">
                                    </p-multiSelect>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap">
                    <div class="text-700 text-xl w-6 md:w-2 font-medium">Corequisites</div>
                    <div class="text-900 w-full md:w-10 md:flex-order-0 flex-order-1">
                        <div class="grid p-fluid">
                            <div class="col-12">
                                <div class="p-fluid">
                                    <p-multiSelect
                                        formControlName="corequisites"
                                        [options]="corequisites"
                                        defaultLabel="Select corequisites..."
                                        optionLabel="name"
                                        display="chip">
                                    </p-multiSelect>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap">
                    <div class="text-700 text-xl w-6 md:w-2 font-medium">Syllabus</div>
                    <div class="text-900 w-full md:w-10 md:flex-order-0 flex-order-1">
                        <div class="grid p-fluid">
                            <div class="col-12">
                                <div class="p-inputgroup">
                                    <textarea formControlName="syllabus" rows="5" cols="30" pInputTextarea
                                              autoResize="autoResize"></textarea>
                                </div>
                                <small *ngIf="syllabus.errors?.['required']" class="p-error">Syllabus is required.</small>
                            </div>
                        </div>
                    </div>
                </li>

                <li class="flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap">
                    <div class="text-700 text-xl w-6 md:w-2 font-medium">Assessment</div>
                    <div class="text-900 w-full md:w-10 md:flex-order-0 flex-order-1">
                        <div class="grid p-fluid">
                            <div class="col-12">
                                <div class="p-inputgroup">
                                    <textarea formControlName="assessment" rows="5" cols="30" pInputTextarea
                                              autoResize="autoResize"></textarea>
                                </div>
                                <small *ngIf="assessment.dirty && assessment.errors?.['required']" class="p-error">Assessment is required.</small>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="flex align-items-center py-3 px-2 border-top-1 border-bottom-1 surface-border flex-wrap">
                    <div class="text-700 text-xl w-6 md:w-2 font-medium">Study Hours</div>
                        <div class="text-900 w-full md:w-10 md:flex-order-0 flex-order-1">
                            <div class="grid p-fluid" formGroupName="studyHours">
                                <div class="col-12 md:col-2">
                                    <br>
                                    <span class="p-float-label">
                                        <p-inputNumber id="lectures" inputId="lectures" formControlName="lectures"></p-inputNumber>
                                        <label for="lectures">Lectures</label>
                                    </span>
                                </div>
                                <div class="col-12 md:col-2">
                                    <br>
                                    <span class="p-float-label">
                                        <p-inputNumber id="seminars" inputId="seminars" formControlName="seminars"></p-inputNumber>
                                        <label for="seminars">Seminars</label>
                                    </span>
                                </div>
                                <div class="col-12 md:col-2">
                                    <br>
                                    <span class="p-float-label">
                                        <p-inputNumber id="tutorials" inputId="tutorials" formControlName="tutorials"></p-inputNumber>
                                        <label for="tutorials">Tutorials</label>
                                    </span>
                                </div>
                                <div class="col-12 md:col-2">
                                    <br>
                                    <span class="p-float-label">
                                        <p-inputNumber id="labPracticals" inputId="labPracticals" formControlName="labPracticals"></p-inputNumber>
                                        <label for="labPracticals">Lab Practicals</label>
                                    </span>
                                </div>
                                <div class="col-12 md:col-2">
                                    <br>
                                    <span class="p-float-label">
                                        <p-inputNumber id="fieldwork" inputId="fieldwork" formControlName="fieldwork"></p-inputNumber>
                                        <label for="fieldwork">Fieldwork</label>
                                    </span>
                                </div>
                                <div class="col-12 md:col-2">
                                    <br>
                                    <span class="p-float-label">
                                        <p-inputNumber id="other" inputId="other" formControlName="other"></p-inputNumber>
                                        <label for="other">Other</label>
                                    </span>
                                </div>
                            </div>
                        </div>
                </li>

            </ul>
            <br>
            <div class="flex flex-row-reverse flex-wrap">
                <div class="flex align-items-center justify-content-center font-bold border-round m-2">
                    <p-button label="Save" type="submit" icon="pi pi-check"
                              styleClass="p-button-lg p-button-success"></p-button>
                </div>
                <div class="flex align-items-center justify-content-center font-bold border-round m-2">
                    <p-button label="Back" icon="pi pi-undo" styleClass="p-button-lg p-button-secondary" (click)="onBack()"></p-button>
                </div>
            </div>
        </form>
    </div>
</div>

